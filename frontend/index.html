<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MUMMY ‚Äì Bhook Lagi Hai</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="ingredient-selector.css">
    <link rel="stylesheet" href="../chatbot/chatbot-styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        
        <!-- Header Section - Vertical Sidebar Navbar -->
        <header class="header">
            <!-- Branding Section - Top -->
            <div class="navbar-brand">
                <!-- Logo -->
                <div class="brand-logo">
                    <img src="pictures/logo.png" alt="MUMMY Logo" class="logo-img">
                </div>
                <!-- App Name and Tagline -->
                <div class="brand-text">
                    <h1 class="app-title">MUMMY</h1>
                    <p class="app-subtitle" id="appSubtitle">Bhook Lagi Hai?</p>
                </div>
            </div>

            <!-- Utility Options Section - Top Right -->
            <div class="utility-options">
                <!-- Language Selector -->
                <div class="utility-group">
                    <label for="languageSelect">üó£Ô∏è</label>
                    <select id="languageSelect" class="utility-select">
                        <option value="english">English</option>
                        <option value="hinglish">Hinglish</option>
                        <option value="hindi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
                    </select>
                </div>

                <!-- Region Selector -->
                <div class="utility-group">
                    <label for="regionSelect">üìç</label>
                    <select id="regionSelect" class="utility-select">
                        <option value="north">North India</option>
                        <option value="south">South India</option>
                        <option value="east">East India</option>
                        <option value="west">West India</option>
                        <option value="northeast">North-East India</option>
                    </select>
                </div>

                <!-- Notification Bell -->
                <button class="utility-btn" id="notificationBell" title="Notifications">
                    üîî
                </button>

                <!-- Logout Button -->
                <button class="utility-btn logout-btn" id="logoutBtn" title="Logout">
                    Logout
                </button>
            </div>

            <!-- Primary Actions Section - Second Row -->
            <nav class="primary-actions">
                <a href="index.html" class="action-link active" title="Recipe Generator">
                    <span class="action-icon">üç≥</span>
                    <span class="action-text">Recipes</span>
                </a>
                <a href="packing.html" class="action-link" title="Packing List">
                    <span class="action-icon">üéí</span>
                    <span class="action-text">Pack My Bag</span>
                </a>
                <a href="bimaar.html" class="action-link" title="Bimaar Hu - When Not Feeling Well">
                    <span class="action-icon">üßä</span>
                    <span class="action-text">Bimaar Hu</span>
                </a>
                <a href="#" class="action-link" id="dietPlanLink" title="Select a Diet Plan">
                    <span class="action-icon">ü•ó</span>
                    <span class="action-text">Select a Diet Plan</span>
                </a>
            </nav>

            <!-- Notification Dropdown -->
            <div id="notificationDropdown" class="notification-dropdown" style="display: none;">
                <div class="notification-header">
                    <h3>üì¨ Today's Notifications</h3>
                    <button id="closeNotificationDropdown" class="close-btn">&times;</button>
                </div>
                <div id="notificationList" class="notification-list">
                    <p class="empty-message">No notifications yet</p>
                </div>
                <div class="notification-footer">
                    <button id="clearNotificationsBtn" class="clear-btn">Clear All</button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            
            <!-- Ingredient Selection Section - Two Panel Layout -->
            <section class="ingredient-section">
                <h2 class="section-title">Aaj mere ghar mein hai...</h2>
                
                <div class="ingredient-layout">
                    
                    <!-- LEFT PANEL: Category Slider -->
                    <aside class="category-slider">
                        <div class="slider-header">
                            <h3>Categories</h3>
                        </div>
                        <nav class="category-menu" id="categoryMenu">
                            <!-- Dynamically populated with category buttons -->
                        </nav>
                    </aside>

                    <!-- RIGHT PANEL: Ingredient Grid -->
                    <div class="ingredient-main">
                        <div class="ingredient-header">
                            <h3 id="currentCategoryTitle">Select a category</h3>
                            <span class="ingredient-count" id="ingredientCount">0 items</span>
                        </div>
                        
                        <div class="ingredient-grid" id="ingredientGrid">
                            <!-- Dynamically populated with ingredient cards -->
                        </div>
                    </div>

                </div>
            </section>

            <!-- Selected Ingredients Basket -->
            <section class="basket-section">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                    <h2 class="section-title" style="margin: 0;">Selected: <span id="basketCount">0</span></h2>
                    <div id="totalCaloriesHeader" style="font-weight: bold; color: #ff6f00; font-size: 1.1em; display: none;">
                        üìä Total: <span id="totalCaloriesValue">0</span> kcal
                    </div>
                </div>
                <div class="basket-container" id="basketContainer">
                    <p class="basket-empty">Kuch ingredients select kar...</p>
                </div>
            </section>

            <!-- Health Status Section -->
            <section class="health-section">
                <h3 class="section-title" id="moodTitle">Tabiyat kaisa hai?</h3>
                <div class="health-options">
                    <button class="health-btn" data-health="healthy" title="Normal healthy appetite">
                        <span class="health-emoji">üòä</span>
                        <span class="mood-text">Normal</span>
                    </button>
                    <button class="health-btn" data-health="fever" title="Light & easily digestible foods">
                        <span class="health-emoji">ü§í</span>
                        <span class="mood-text">Fever</span>
                    </button>
                    <button class="health-btn" data-health="cold" title="Warm foods with immune-boosting spices">
                        <span class="health-emoji">ü§ß</span>
                        <span class="mood-text">Cold & Cough</span>
                    </button>
                    <button class="health-btn" data-health="tired" title="Energy-boosting recipes with protein">
                        <span class="health-emoji">üò¥</span>
                        <span class="mood-text">Tired</span>
                    </button>
                    <button class="health-btn" data-health="digestion" title="Easy to digest, light recipes">
                        <span class="health-emoji">ü§¢</span>
                        <span class="mood-text">Digestion</span>
                    </button>
                    <button class="health-btn" data-health="allergy" title="Avoiding common allergens">
                        <span class="health-emoji">üö´</span>
                        <span class="mood-text">Allergy</span>
                    </button>
                    <button class="health-btn" data-health="diabetic" title="Low glycemic & balanced sugar">
                        <span class="health-emoji">üçØ</span>
                        <span class="mood-text">Diabetic</span>
                    </button>
                    <button class="health-btn" data-health="vegan" title="Plant-based, no animal products">
                        <span class="health-emoji">üå±</span>
                        <span class="mood-text">Vegan</span>
                    </button>
                </div>
            </section>

        </main>

        <!-- Floating CTA Button -->
        <button class="cta-button" id="generateBtn" disabled>
            <span class="cta-text">Aaj kya banau?</span>
            <span class="cta-icon">üë©‚Äçüç≥</span>
        </button>

        <!-- Loading Overlay -->
        <div class="loading-overlay" id="loadingOverlay">
            <div class="loading-content">
                <div class="loading-spinner"></div>
                <p>Mummy soch rahi hai...</p>
            </div>
        </div>

        <!-- Recipe Modal -->
        <div class="modal" id="recipeModal">
            <div class="modal-content">
                <button class="modal-close" id="closeModal">&times;</button>
                <div id="recipeContainer"></div>
            </div>
        </div>

        <!-- Diet Plan Selection Modal -->
        <div class="modal" id="dietPlanModal">
            <div class="diet-plan-modal-content">
                <button class="modal-close" id="closeDietPlanModal">&times;</button>
                <div class="diet-plan-header">
                    <h2>Choose Your Diet Plan ü•ó</h2>
                    <p class="diet-plan-subtitle">Select a plan that matches your health goals (Optional)</p>
                </div>
                <div class="diet-plans-grid" id="dietPlansGrid">
                    <!-- Dynamically populated with diet plans -->
                </div>
                <div class="diet-plan-footer">
                    <p id="selectedPlanInfo" style="text-align: center; color: #888; font-size: 0.9rem; margin-bottom: 1rem;">No plan selected</p>
                    <button id="confirmDietPlanBtn" class="confirm-btn">Confirm Selection</button>
                    <button id="skipDietPlanBtn" class="skip-btn">Skip (No Diet Plan)</button>
                </div>
            </div>
        </div>

    </div>

    <!-- Notification System -->
    <script src="../notifications/notification-config.js"></script>
    <script src="../notifications/notification-service.js"></script>
    <script src="notification-manager.js"></script>
    <script src="notification-integration.js"></script>
    
    <!-- Calories Database -->
    <script src="calories.js"></script>

    <!-- Diet Plans -->
    <script src="diet-plans.js"></script>
    <script src="diet-plan-selector.js"></script>
    
    <!-- Chatbot Integration -->
    <script src="../chatbot/chatbot-config.js"></script>
    <script src="../chatbot/chatbot-service.js"></script>
    <script src="../chatbot/chat-manager.js"></script>
    
    <!-- Main App -->
    <script src="app.js"></script>
</body>
</html>
