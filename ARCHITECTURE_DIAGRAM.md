# Diet Plan Feature - Architecture & Flow Diagram

## System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        MUMMY APPLICATION                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   HTML STRUCTURE (index.html)               â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  1. Header (Navbar)                                         â”‚   â”‚
â”‚  â”‚     â””â”€ "Select a Diet Plan" Link (ğŸ¥—)                       â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  2. Diet Plan Modal                                         â”‚   â”‚
â”‚  â”‚     â”œâ”€ Header                                               â”‚   â”‚
â”‚  â”‚     â”œâ”€ Grid Container (id="dietPlansGrid")                  â”‚   â”‚
â”‚  â”‚     â”œâ”€ Selected Plan Info (id="selectedPlanInfo")           â”‚   â”‚
â”‚  â”‚     â””â”€ Buttons: Confirm & Skip                              â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  3. Main Content                                            â”‚   â”‚
â”‚  â”‚     â”œâ”€ Ingredient Selection Panel                           â”‚   â”‚
â”‚  â”‚     â”œâ”€ Basket Section                                       â”‚   â”‚
â”‚  â”‚     â”‚  â””â”€ [NEW] Diet Plan Status Bar                        â”‚   â”‚
â”‚  â”‚     â””â”€ Health Status Section                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   JAVASCRIPT MODULES                        â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  DIET PLANS (diet-plans.js)                                 â”‚   â”‚
â”‚  â”‚  â”œâ”€ DIET_PLANS Object                                       â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ healthy_balanced { ... }                             â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ diabetic_friendly { ... }                            â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ low_sodium { ... }                                   â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ weight_loss { ... }                                  â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ low_cholesterol { ... }                              â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€ fitness_muscle { ... }                               â”‚   â”‚
â”‚  â”‚  â””â”€ Helper Functions:                                       â”‚   â”‚
â”‚  â”‚     â”œâ”€ getDietPlan(planId)                                  â”‚   â”‚
â”‚  â”‚     â”œâ”€ getAllDietPlans()                                    â”‚   â”‚
â”‚  â”‚     â”œâ”€ checkDailyCalorieLimit(id, cal)                      â”‚   â”‚
â”‚  â”‚     â””â”€ getRemainingCaloriesForMeal(id, meal, cal)           â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  DIET PLAN SELECTOR (diet-plan-selector.js)                â”‚   â”‚
â”‚  â”‚  â”œâ”€ State Variables:                                        â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ selectedDietPlanId                                   â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ selectedDietPlan                                     â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ totalDailyCalories                                   â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€ mealsCalorieTracker { ... }                          â”‚   â”‚
â”‚  â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  â””â”€ Key Functions:                                          â”‚   â”‚
â”‚  â”‚     â”œâ”€ initializeDietPlanSelector()                         â”‚   â”‚
â”‚  â”‚     â”œâ”€ openDietPlanModal()                                  â”‚   â”‚
â”‚  â”‚     â”œâ”€ createDietPlanCard(planId, plan)                     â”‚   â”‚
â”‚  â”‚     â”œâ”€ selectDietPlan(planId, plan)                         â”‚   â”‚
â”‚  â”‚     â”œâ”€ confirmDietPlanSelection()                           â”‚   â”‚
â”‚  â”‚     â”œâ”€ canAddIngredient(calories)                           â”‚   â”‚
â”‚  â”‚     â”œâ”€ addIngredientCalories(calories)                      â”‚   â”‚
â”‚  â”‚     â”œâ”€ removeIngredientCalories(calories)                   â”‚   â”‚
â”‚  â”‚     â”œâ”€ saveDietPlanSelection()                              â”‚   â”‚
â”‚  â”‚     â”œâ”€ loadSelectedDietPlan()                               â”‚   â”‚
â”‚  â”‚     â””â”€ getDietPlanStatus()                                  â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  APP INTEGRATION (app.js)                                   â”‚   â”‚
â”‚  â”‚  â”œâ”€ Modified toggleIngredientCard():                        â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ Check canAddIngredient()                             â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ Call addIngredientCalories()                         â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€ Call removeIngredientCalories()                      â”‚   â”‚
â”‚  â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  â””â”€ Modified updateBasket():                                â”‚   â”‚
â”‚  â”‚     â”œâ”€ Calculate totalCalories                              â”‚   â”‚
â”‚  â”‚     â”œâ”€ Show per-ingredient calories                         â”‚   â”‚
â”‚  â”‚     â”œâ”€ Display getDietPlanStatus()                          â”‚   â”‚
â”‚  â”‚     â””â”€ Show progress bar                                    â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  CALORIES DATABASE (calories.js)                            â”‚   â”‚
â”‚  â”‚  â””â”€ getIngredientCalories(name) â†’ returns calories          â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   STYLING (styles.css)                      â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  .diet-plan-modal-content                                   â”‚   â”‚
â”‚  â”‚  .diet-plans-grid                                           â”‚   â”‚
â”‚  â”‚  .diet-plan-card                                            â”‚   â”‚
â”‚  â”‚  .diet-plan-card.selected                                   â”‚   â”‚
â”‚  â”‚  .diet-plan-status                                          â”‚   â”‚
â”‚  â”‚  @keyframes scaleIn                                         â”‚   â”‚
â”‚  â”‚  Responsive breakpoints (768px, 480px)                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        USER INTERACTIONS                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Click "Select Diet Plan" â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ openDietPlanModal()      â”‚
                    â”‚  - Fetch all plans       â”‚
                    â”‚  - Create cards          â”‚
                    â”‚  - Show modal            â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ User Selects a Plan        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ selectDietPlan(id, plan)     â”‚
                    â”‚  - Set selectedDietPlanId    â”‚
                    â”‚  - Set selectedDietPlan      â”‚
                    â”‚  - Highlight card            â”‚
                    â”‚  - Show plan info            â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ User Clicks "Confirm" or "Skip"â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                                   â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚ Confirm Selection   â”‚         â”‚ Skip Diet Plan      â”‚
           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
           â”‚ 1. Save to localStorageâ”‚     â”‚ 1. Clear selection  â”‚
           â”‚ 2. Enable integration â”‚      â”‚ 2. Allow unrestrictedâ”‚
           â”‚ 3. Close modal       â”‚      â”‚ 3. Close modal      â”‚
           â”‚ 4. Show confirmation â”‚      â”‚ 4. Proceed normally â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                              â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ User Selects Ingredients     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Click ingredient card          â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ toggleIngredientCard(e)              â”‚
                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                    â”‚ IF Diet Plan Active:                 â”‚
                    â”‚  1. Get ingredient calories          â”‚
                    â”‚  2. Call canAddIngredient(cal)       â”‚
                    â”‚     â”œâ”€ Check: current + cal > max?   â”‚
                    â”‚     â””â”€ Return { canAdd, message }    â”‚
                    â”‚  3. IF canAdd:                       â”‚
                    â”‚     â””â”€ Call addIngredientCalories()  â”‚
                    â”‚  4. ELSE:                            â”‚
                    â”‚     â””â”€ Show alert with message       â”‚
                    â”‚  5. Add to selectedIngredients       â”‚
                    â”‚ ELSE:                                â”‚
                    â”‚  Add without restrictions            â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ updateBasket()                   â”‚
                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                    â”‚ FOR each ingredient:             â”‚
                    â”‚  - Show emoji + name + calories  â”‚
                    â”‚  - Add remove button             â”‚
                    â”‚ IF Diet Plan Active:             â”‚
                    â”‚  - Call getDietPlanStatus()      â”‚
                    â”‚  - Display status bar with:      â”‚
                    â”‚    â”œâ”€ Current / Max calories     â”‚
                    â”‚    â”œâ”€ Percentage used           â”‚
                    â”‚    â”œâ”€ Progress bar               â”‚
                    â”‚    â””â”€ Remaining calories         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Basket Updated with Status       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## State Management Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              DIET PLAN SELECTOR STATE                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  Initial State:                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ selectedDietPlanId: null                       â”‚    â”‚
â”‚  â”‚ selectedDietPlan: null                         â”‚    â”‚
â”‚  â”‚ totalDailyCalories: 0                          â”‚    â”‚
â”‚  â”‚ mealsCalorieTracker: { all: 0 }                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â”‚                              â”‚
â”‚                          â–¼                              â”‚
â”‚  ON Page Load:                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ loadSelectedDietPlan()                         â”‚    â”‚
â”‚  â”‚  - Read localStorage                          â”‚    â”‚
â”‚  â”‚  - If found: restore state                    â”‚    â”‚
â”‚  â”‚  - enableDietPlanIntegration()                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â”‚                              â”‚
â”‚                          â–¼                              â”‚
â”‚  User Selects Plan:                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ selectDietPlan(planId, plan)                   â”‚    â”‚
â”‚  â”‚ â”œâ”€ selectedDietPlanId = planId                â”‚    â”‚
â”‚  â”‚ â””â”€ selectedDietPlan = plan                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â”‚                              â”‚
â”‚                          â–¼                              â”‚
â”‚  User Confirms:                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ confirmDietPlanSelection()                     â”‚    â”‚
â”‚  â”‚ â”œâ”€ saveDietPlanSelection()                     â”‚    â”‚
â”‚  â”‚ â”‚  â””â”€ localStorage.setItem()                   â”‚    â”‚
â”‚  â”‚ â””â”€ enableDietPlanIntegration()                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â”‚                              â”‚
â”‚                          â–¼                              â”‚
â”‚  Active State:                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ selectedDietPlanId: "healthy_balanced"         â”‚    â”‚
â”‚  â”‚ selectedDietPlan: { name, dailyCalories, ... }â”‚    â”‚
â”‚  â”‚ totalDailyCalories: 150 (user selected)       â”‚    â”‚
â”‚  â”‚ mealsCalorieTracker: updated as user adds     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â”‚                              â”‚
â”‚                          â–¼                              â”‚
â”‚  When Adding Ingredient:                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ addIngredientCalories(calorieValue)            â”‚    â”‚
â”‚  â”‚ â”œâ”€ totalDailyCalories += calorieValue          â”‚    â”‚
â”‚  â”‚ â””â”€ mealsCalorieTracker[mealType] += value      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â”‚                              â”‚
â”‚                          â–¼                              â”‚
â”‚  When Removing Ingredient:                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ removeIngredientCalories(calorieValue)         â”‚    â”‚
â”‚  â”‚ â”œâ”€ totalDailyCalories -= calorieValue          â”‚    â”‚
â”‚  â”‚ â””â”€ mealsCalorieTracker[mealType] -= value      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â”‚                              â”‚
â”‚                          â–¼                              â”‚
â”‚  When User Skips Plan:                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ skipDietPlanSelection()                        â”‚    â”‚
â”‚  â”‚ â”œâ”€ selectedDietPlanId = null                   â”‚    â”‚
â”‚  â”‚ â”œâ”€ selectedDietPlan = null                     â”‚    â”‚
â”‚  â”‚ â”œâ”€ Clear localStorage                          â”‚    â”‚
â”‚  â”‚ â””â”€ Reset totalDailyCalories                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â”‚                              â”‚
â”‚                          â–¼                              â”‚
â”‚  Back to Initial State                                 â”‚
â”‚  (No calorie restrictions)                             â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Component Interaction Diagram

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   User Interface  â”‚
                    â”‚  (Buttons/Clicks) â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                  â”‚                  â”‚
          â–¼                  â–¼                  â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Navbar   â”‚      â”‚ Modal    â”‚      â”‚ Basket     â”‚
    â”‚ Button   â”‚      â”‚ Cards    â”‚      â”‚ Section    â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                 â”‚                  â”‚
         â”‚                 â”‚                  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   diet-plan-selector.js             â”‚
    â”‚  (Handles all interactions)          â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ openDietPlanModal()                 â”‚
    â”‚ selectDietPlan()                    â”‚
    â”‚ confirmDietPlanSelection()          â”‚
    â”‚ skipDietPlanSelection()             â”‚
    â”‚ canAddIngredient()                  â”‚
    â”‚ addIngredientCalories()             â”‚
    â”‚ removeIngredientCalories()          â”‚
    â”‚ getDietPlanStatus()                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                    â”‚          â”‚
         â–¼                    â–¼          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Local      â”‚  â”‚  diet-plans  â”‚  â”‚  app.js     â”‚
    â”‚  Storage    â”‚  â”‚  .js (Data)  â”‚  â”‚(Integration)â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                    â”‚              â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  DOM Updates     â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚ Modal content    â”‚
         â”‚ Card highlights  â”‚
         â”‚ Basket display   â”‚
         â”‚ Progress bar     â”‚
         â”‚ Alert messages   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Integration Points with App.js

```
app.js
â”‚
â”œâ”€ toggleIngredientCard(e)
â”‚  â”œâ”€ IF selectedDietPlanId exists:
â”‚  â”‚  â”œâ”€ Get ingredient calories
â”‚  â”‚  â”œâ”€ Call canAddIngredient(cal)
â”‚  â”‚  â”‚  â””â”€ Compare: totalDailyCalories + cal vs max
â”‚  â”‚  â”œâ”€ IF allowed:
â”‚  â”‚  â”‚  â””â”€ Call addIngredientCalories(cal)
â”‚  â”‚  â””â”€ ELSE:
â”‚  â”‚     â””â”€ Alert user with message
â”‚  â””â”€ Add ingredient to selectedIngredients[]
â”‚
â”œâ”€ updateBasket()
â”‚  â”œâ”€ FOR each ingredient:
â”‚  â”‚  â””â”€ Display name + emoji + calories
â”‚  â”‚
â”‚  â”œâ”€ IF selectedDietPlanId exists:
â”‚  â”‚  â”œâ”€ Calculate totalCalories
â”‚  â”‚  â”œâ”€ Call getDietPlanStatus()
â”‚  â”‚  â””â”€ Display status bar with:
â”‚  â”‚     â”œâ”€ Current calories
â”‚  â”‚     â”œâ”€ Max calories
â”‚  â”‚     â”œâ”€ Percentage
â”‚  â”‚     â”œâ”€ Progress bar
â”‚  â”‚     â””â”€ Remaining calories
â”‚  â”‚
â”‚  â””â”€ Update DOM with basket HTML
â”‚
â””â”€ saveState()
   â””â”€ Persists appState to localStorage
```

## External Dependencies

```
diet-plans.js
â””â”€ No external dependencies (standalone module)

diet-plan-selector.js
â”œâ”€ Depends on: diet-plans.js functions
â”‚  â”œâ”€ getDietPlan()
â”‚  â”œâ”€ getAllDietPlans()
â”‚  â””â”€ checkDailyCalorieLimit()
â”‚
â””â”€ Used by: app.js and browser DOM

app.js
â”œâ”€ Depends on: diet-plan-selector.js
â”‚  â”œâ”€ selectedDietPlanId (global)
â”‚  â”œâ”€ selectedDietPlan (global)
â”‚  â”œâ”€ canAddIngredient()
â”‚  â”œâ”€ addIngredientCalories()
â”‚  â”œâ”€ removeIngredientCalories()
â”‚  â””â”€ getDietPlanStatus()
â”‚
â”œâ”€ Depends on: calories.js
â”‚  â””â”€ getIngredientCalories()
â”‚
â””â”€ Updates DOM elements

styles.css
â””â”€ Styles for:
   â”œâ”€ .diet-plan-modal-content
   â”œâ”€ .diet-plans-grid
   â”œâ”€ .diet-plan-card
   â””â”€ Animations (@keyframes)
```

---

**Diagram Generated**: 31-01-2026
**Status**: âœ… Complete System Architecture
